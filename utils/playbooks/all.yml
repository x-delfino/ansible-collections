---
- name: group hosts
  hosts: all
  tasks:
    - name: group hosts depending on their OS type
      ansible.builtin.group_by:
        key: os_{{ ansible_system | lower }}

- hosts: "{{ 'os_linux:&' + target|default('all')}}"
  roles:
    - alacritty
    - curl
    - golang
    - nnn
    - ohmyzsh
    - python3_9_venv
    - rust
    - rust_analyzer
    - tmux
    - tmuxp
    - tpm
    - unzip
    - vim_plug
    - wget
    - zip
    - zsh

- hosts: "{{target|default('all')}}"
  roles:
    - git
    - neovim
    - powershell
    - ps_script_analyzer
